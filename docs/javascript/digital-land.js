function getCookie(name){var cookieExists=document.cookie.split(";").some(function(item){return 0===item.trim().indexOf(name+"=")}),value=cookieExists;return cookieExists&&(value=!!(value=document.cookie.match("(^|[^;]+)\\s*"+name+"\\s*=\\s*([^;]+)"))&&value.pop()),value}function setCookie(name,value){var now=new Date;now.setMonth(now.getMonth()+1),document.cookie=name+"="+value+"; expires="+now}function hideGlobalCookieBanner(element){document.getElementById("global-cookie-message").style.display="none",analytics()}function setCookieButtonEvents(){for(var buttons=document.querySelectorAll("[data-accept-cookies]"),i=0;i<buttons.length;i++)buttons[i].addEventListener("click",function(event){var element=event.target||event.srcElement;setCookie("cookies",JSON.stringify(element.dataset.acceptCookies)),hideGlobalCookieBanner()})}!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],factory):factory(global.GOVUKFrontend={})}(this,function(exports){"use strict";function nodeListForEach(nodes,callback){if(window.NodeList.prototype.forEach)return nodes.forEach(callback);for(var i=0;i<nodes.length;i++)callback.call(window,nodes[i],i,nodes)}function Accordion($module){this.$module=$module,this.moduleId=$module.getAttribute("id"),this.$sections=$module.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=helper.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}(function(undefined){var nativeDefineProperty,supportsAccessors,ERR_VALUE_ACCESSORS;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(nativeDefineProperty=Object.defineProperty,supportsAccessors=Object.prototype.hasOwnProperty("__defineGetter__"),ERR_VALUE_ACCESSORS="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(object,property,descriptor){if(nativeDefineProperty&&(object===window||object===document||object===Element.prototype||object instanceof Element))return nativeDefineProperty(object,property,descriptor);if(null===object||!(object instanceof Object||"object"==typeof object))throw new TypeError("Object.defineProperty called on non-object");if(!(descriptor instanceof Object))throw new TypeError("Property description must be an object");var propertyString=String(property),hasValueOrWritable="value"in descriptor||"writable"in descriptor,getterType="get"in descriptor&&typeof descriptor.get,setterType="set"in descriptor&&typeof descriptor.set;if(getterType){if("function"!==getterType)throw new TypeError("Getter must be a function");if(!supportsAccessors)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(hasValueOrWritable)throw new TypeError(ERR_VALUE_ACCESSORS);Object.__defineGetter__.call(object,propertyString,descriptor.get)}else object[propertyString]=descriptor.value;if(setterType){if("function"!==setterType)throw new TypeError("Setter must be a function");if(!supportsAccessors)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(hasValueOrWritable)throw new TypeError(ERR_VALUE_ACCESSORS);Object.__defineSetter__.call(object,propertyString,descriptor.set)}return"value"in descriptor&&(object[propertyString]=descriptor.value),object})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(that){var $Array=Array,$Object=Object,ObjectPrototype=$Object.prototype,ArrayPrototype=$Array.prototype,Empty=function(){},to_string=ObjectPrototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,fnToStr=Function.prototype.toString,isCallable=function(value){if("function"!=typeof value)return!1;if(hasToStringTag)return function(value){try{return fnToStr.call(value),!0}catch(e){return!1}}(value);var strClass=to_string.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass},array_slice=ArrayPrototype.slice,array_concat=ArrayPrototype.concat,array_push=ArrayPrototype.push,max=Math.max,target=this;if(!isCallable(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=array_slice.call(arguments,1),boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)array_push.call(boundArgs,"$"+i);return bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,array_concat.call(args,array_slice.call(arguments)));return $Object(result)===result?result:this}return target.apply(that,array_concat.call(args,array_slice.call(arguments)))}),target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){var x,global,e;"DOMTokenList"in this&&(!("classList"in(x=document.createElement("x")))||!x.classList.toggle("x",!1)&&!x.className)||("DOMTokenList"in(global=this)&&global.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(global.DOMTokenList=function(){function defineGetter(object,name,fn,configurable){Object.defineProperty?Object.defineProperty(object,name,{configurable:!1===dpSupport||!!configurable,get:fn}):object.__defineGetter__(name,fn)}var dpSupport=!0;try{defineGetter({},"support")}catch(e){dpSupport=!1}return function(el,prop){function reindex(){if(maxLength<=length)for(;maxLength<length;++maxLength)!function(i){defineGetter(that,i,function(){return preop(),tokens[i]},!1)}(maxLength)}var that=this,tokens=[],tokenMap={},length=0,maxLength=0,preop=function(){var error,i,args=arguments,rSpace=/\s+/;if(args.length)for(i=0;i<args.length;++i)if(rSpace.test(args[i]))throw(error=new SyntaxError('String "'+args[i]+'" contains an invalid character')).code=5,error.name="InvalidCharacterError",error;for(""===(tokens="object"==typeof el[prop]?(""+el[prop].baseVal).replace(/^\s+|\s+$/g,"").split(rSpace):(""+el[prop]).replace(/^\s+|\s+$/g,"").split(rSpace))[0]&&(tokens=[]),tokenMap={},i=0;i<tokens.length;++i)tokenMap[tokens[i]]=!0;length=tokens.length,reindex()};return preop(),defineGetter(that,"length",function(){return preop(),length}),that.toLocaleString=that.toString=function(){return preop(),tokens.join(" ")},that.item=function(idx){return preop(),tokens[idx]},that.contains=function(token){return preop(),!!tokenMap[token]},that.add=function(){preop.apply(that,args=arguments);for(var args,token,i=0,l=args.length;i<l;++i)tokenMap[token=args[i]]||(tokens.push(token),tokenMap[token]=!0);length!==tokens.length&&(length=tokens.length>>>0,"object"==typeof el[prop]?el[prop].baseVal=tokens.join(" "):el[prop]=tokens.join(" "),reindex())},that.remove=function(){preop.apply(that,args=arguments);for(var args,ignore={},i=0,t=[];i<args.length;++i)ignore[args[i]]=!0,delete tokenMap[args[i]];for(i=0;i<tokens.length;++i)ignore[tokens[i]]||t.push(tokens[i]);length=(tokens=t).length>>>0,"object"==typeof el[prop]?el[prop].baseVal=tokens.join(" "):el[prop]=tokens.join(" "),reindex()},that.toggle=function(token,force){return preop.apply(that,[token]),undefined!==force?force?(that.add(token),!0):(that.remove(token),!1):tokenMap[token]?(that.remove(token),!1):(that.add(token),!0)},that}}()),"classList"in(e=document.createElement("span"))&&(e.classList.toggle("x",!1),e.classList.contains("x")&&(e.classList.constructor.prototype.toggle=function(token,argument_1){var force=argument_1;if(force!==undefined)return this[(force=!!force)?"add":"remove"](token),force;var add=!this.contains(token);return this[add?"add":"remove"](token),add})),function(){var native,e=document.createElement("span");"classList"in e&&(e.classList.add("a","b"),e.classList.contains("b")||(native=e.classList.constructor.prototype.add,e.classList.constructor.prototype.add=function(){for(var args=arguments,l=arguments.length,i=0;i<l;i++)native.call(this,args[i])}))}(),function(){var native,e=document.createElement("span");"classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b")&&(native=e.classList.constructor.prototype.remove,e.classList.constructor.prototype.remove=function(){for(var args=arguments,l=arguments.length,i=0;i<l;i++)native.call(this,args[i])}))}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){var vbody,frameDocument,prototype,cache,shiv,elements,nativeCreateElement,interval,loopLimit;function bodyCheck(){return loopLimit--||clearTimeout(interval),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(shiv(document,!0),interval&&document.body.prototype&&clearTimeout(interval),!!document.body.prototype)}"Element"in this&&"HTMLElement"in this||(!window.Element||window.HTMLElement?(window.Element=window.HTMLElement=new Function("return function Element() {}")(),frameDocument=(vbody=document.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe")).contentWindow.document,prototype=Element.prototype=frameDocument.appendChild(frameDocument.createElement("*")),cache={},shiv=function(element,deep){var key,value,childNode,childNodes=element.childNodes||[],index=-1;if(1===element.nodeType&&element.constructor!==Element)for(key in element.constructor=Element,cache)value=cache[key],element[key]=value;for(;childNode=deep&&childNodes[++index];)shiv(childNode,deep);return element},elements=document.getElementsByTagName("*"),nativeCreateElement=document.createElement,loopLimit=100,prototype.attachEvent("onpropertychange",function(event){for(var element,propertyName=event.propertyName,nonValue=!cache.hasOwnProperty(propertyName),newValue=prototype[propertyName],oldValue=cache[propertyName],index=-1;element=elements[++index];)1===element.nodeType&&(!nonValue&&element[propertyName]!==oldValue||(element[propertyName]=newValue));cache[propertyName]=newValue}),prototype.constructor=Element,prototype.hasAttribute||(prototype.hasAttribute=function(name){return null!==this.getAttribute(name)}),bodyCheck()||(document.onreadystatechange=bodyCheck,interval=setInterval(bodyCheck,25)),document.createElement=function(nodeName){var element=nativeCreateElement(String(nodeName).toLowerCase());return shiv(element)},document.removeChild(vbody)):window.HTMLElement=window.Element)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){var e;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((e=document.createElement("span")).classList.add("a","b"),e.classList.contains("b"))||function(global){function defineGetter(object,name,fn,configurable){Object.defineProperty?Object.defineProperty(object,name,{configurable:!1===dpSupport||!!configurable,get:fn}):object.__defineGetter__(name,fn)}var dpSupport=!0;try{defineGetter({},"support")}catch(e){dpSupport=!1}var addProp=function(o,name,attr){defineGetter(o.prototype,name,function(){var tokenList,gibberishProperty="__defineGetter__DEFINE_PROPERTY"+name;if(this[gibberishProperty])return tokenList;if(!(this[gibberishProperty]=!0)===dpSupport){for(var visage,mirror=addProp.mirror||document.createElement("div"),reflections=mirror.childNodes,l=reflections.length,i=0;i<l;++i)if(reflections[i]._R===this){visage=reflections[i];break}visage=visage||mirror.appendChild(document.createElement("div")),tokenList=DOMTokenList.call(visage,this,attr)}else tokenList=new DOMTokenList(this,attr);return defineGetter(this,name,function(){return tokenList}),delete this[gibberishProperty],tokenList},!0)};addProp(global.Element,"classList","className"),addProp(global.HTMLElement,"classList","className"),addProp(global.HTMLLinkElement,"relList","rel"),addProp(global.HTMLAnchorElement,"relList","rel"),addProp(global.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),Accordion.prototype.init=function(){var areAllSectionsOpen;this.$module&&(this.initControls(),this.initSectionHeaders(),areAllSectionsOpen=this.checkIfAllSectionsOpen(),this.updateOpenAllButton(areAllSectionsOpen))},Accordion.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var accordionControls=document.createElement("div");accordionControls.setAttribute("class",this.controlsClass),accordionControls.appendChild(this.$openAllButton),this.$module.insertBefore(accordionControls,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},Accordion.prototype.initSectionHeaders=function(){nodeListForEach(this.$sections,function($section,i){var header=$section.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(header,i),this.setExpanded(this.isExpanded($section),$section),header.addEventListener("click",this.onSectionToggle.bind(this,$section)),this.setInitialState($section)}.bind(this))},Accordion.prototype.initHeaderAttributes=function($headerWrapper,index){var $module=this,$span=$headerWrapper.querySelector("."+this.sectionButtonClass),$heading=$headerWrapper.querySelector("."+this.sectionHeadingClass),$summary=$headerWrapper.querySelector("."+this.sectionSummaryClass),$button=document.createElement("button");$button.setAttribute("type","button"),$button.setAttribute("id",this.moduleId+"-heading-"+(index+1)),$button.setAttribute("aria-controls",this.moduleId+"-content-"+(index+1));for(var i=0;i<$span.attributes.length;i++){var attr=$span.attributes.item(i);$button.setAttribute(attr.nodeName,attr.nodeValue)}$button.addEventListener("focusin",function(e){$headerWrapper.classList.contains($module.sectionHeaderFocusedClass)||($headerWrapper.className+=" "+$module.sectionHeaderFocusedClass)}),$button.addEventListener("blur",function(e){$headerWrapper.classList.remove($module.sectionHeaderFocusedClass)}),null!=$summary&&$button.setAttribute("aria-describedby",this.moduleId+"-summary-"+(index+1)),$button.innerHTML=$span.innerHTML,$heading.removeChild($span),$heading.appendChild($button);var icon=document.createElement("span");icon.className=this.iconClass,icon.setAttribute("aria-hidden","true"),$button.appendChild(icon)},Accordion.prototype.onSectionToggle=function($section){var expanded=this.isExpanded($section);this.setExpanded(!expanded,$section),this.storeState($section)},Accordion.prototype.onOpenOrCloseAllToggle=function(){var $module=this,$sections=this.$sections,nowExpanded=!this.checkIfAllSectionsOpen();nodeListForEach($sections,function($section){$module.setExpanded(nowExpanded,$section),$module.storeState($section)}),$module.updateOpenAllButton(nowExpanded)},Accordion.prototype.setExpanded=function(expanded,$section){$section.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",expanded),expanded?$section.classList.add(this.sectionExpandedClass):$section.classList.remove(this.sectionExpandedClass);var areAllSectionsOpen=this.checkIfAllSectionsOpen();this.updateOpenAllButton(areAllSectionsOpen)},Accordion.prototype.isExpanded=function($section){return $section.classList.contains(this.sectionExpandedClass)},Accordion.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},Accordion.prototype.updateOpenAllButton=function(expanded){var newButtonText=expanded?"Close all":"Open all";newButtonText+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",expanded),this.$openAllButton.innerHTML=newButtonText};var helper={checkForSessionStorage:function(){var result,testString="this is the test string";try{return window.sessionStorage.setItem(testString,testString),result=window.sessionStorage.getItem(testString)===testString.toString(),window.sessionStorage.removeItem(testString),result}catch(exception){"undefined"!=typeof console&&void 0!==console.log||console.log("Notice: sessionStorage not available.")}}};Accordion.prototype.storeState=function($section){var $button,contentId,contentState;!this.browserSupportsSessionStorage||($button=$section.querySelector("."+this.sectionButtonClass))&&(contentId=$button.getAttribute("aria-controls"),contentState=$button.getAttribute("aria-expanded"),void 0!==contentId||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==contentState||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria expanded present in accordion section heading.")),contentId&&contentState&&window.sessionStorage.setItem(contentId,contentState))},Accordion.prototype.setInitialState=function($section){var $button,contentId,contentState;this.browserSupportsSessionStorage&&(!($button=$section.querySelector("."+this.sectionButtonClass))||null!==(contentState=(contentId=$button.getAttribute("aria-controls"))?window.sessionStorage.getItem(contentId):null)&&this.setExpanded("true"===contentState,$section))},function(undefined){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(global){global.constructor?global.Window=global.constructor:(global.Window=global.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){var existingProto,unlistenableWindowEvents;function indexOf(array,element){for(var index=-1,length=array.length;++index<length;)if(index in array&&array[index]===element)return index;return-1}!function(global){if(!("Event"in global))return!1;if("function"==typeof global.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}}(this)&&(unlistenableWindowEvents={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1},"undefined"!=typeof document&&"undefined"!=typeof window&&(existingProto=window.Event&&window.Event.prototype||null,window.Event=Window.prototype.Event=function(type,eventInitDict){if(!type)throw new Error("Not enough arguments");var event;if("createEvent"in document){event=document.createEvent("Event");var bubbles=!(!eventInitDict||eventInitDict.bubbles===undefined)&&eventInitDict.bubbles,cancelable=!(!eventInitDict||eventInitDict.cancelable===undefined)&&eventInitDict.cancelable;return event.initEvent(type,bubbles,cancelable),event}return(event=document.createEventObject()).type=type,event.bubbles=!(!eventInitDict||eventInitDict.bubbles===undefined)&&eventInitDict.bubbles,event.cancelable=!(!eventInitDict||eventInitDict.cancelable===undefined)&&eventInitDict.cancelable,event},existingProto&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:existingProto}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(argument_0,argument_1){var element=this,type=argument_0,listener=argument_1;if(element===window&&type in unlistenableWindowEvents)throw new Error("In IE8 the event: "+type+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");element._events||(element._events={}),element._events[type]||(element._events[type]=function(event){var eventElement,list=element._events[event.type].list,events=list.slice(),index=-1,length=events.length;for(event.preventDefault=function(){!1!==event.cancelable&&(event.returnValue=!1)},event.stopPropagation=function(){event.cancelBubble=!0},event.stopImmediatePropagation=function(){event.cancelBubble=!0,event.cancelImmediate=!0},event.currentTarget=element,event.relatedTarget=event.fromElement||null,event.target=event.target||event.srcElement||element,event.timeStamp=(new Date).getTime(),event.clientX&&(event.pageX=event.clientX+document.documentElement.scrollLeft,event.pageY=event.clientY+document.documentElement.scrollTop);++index<length&&!event.cancelImmediate;)index in events&&-1!==indexOf(list,eventElement=events[index])&&"function"==typeof eventElement&&eventElement.call(element,event)},element._events[type].list=[],element.attachEvent&&element.attachEvent("on"+type,element._events[type])),element._events[type].list.push(listener)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(argument_0,argument_1){var index,type=argument_0;this._events&&this._events[type]&&this._events[type].list&&-1!==(index=indexOf(this._events[type].list,argument_1))&&(this._events[type].list.splice(index,1),this._events[type].list.length||(this.detachEvent&&this.detachEvent("on"+type,this._events[type]),delete this._events[type]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(event){if(!arguments.length)throw new Error("Not enough arguments");if(!event||"string"!=typeof event.type)throw new Error("DOM Events Exception 0");var cancelBubbleEvent,element=this,type=event.type;try{event.bubbles||(event.cancelBubble=!0,cancelBubbleEvent=function(event){event.cancelBubble=!0,(element||window).detachEvent("on"+type,cancelBubbleEvent)},this.attachEvent("on"+type,cancelBubbleEvent)),this.fireEvent("on"+type,event)}catch(error){for(event.target=element;"_events"in(event.currentTarget=element)&&"function"==typeof element._events[type]&&element._events[type].call(element,event),"function"==typeof element["on"+type]&&element["on"+type].call(element,event),(element=9===element.nodeType?element.parentWindow:element.parentNode)&&!event.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});function Button($module){this.$module=$module,this.debounceFormSubmitTimer=null}Button.prototype.handleKeyDown=function(event){var target=event.target;"button"===target.getAttribute("role")&&32===event.keyCode&&(event.preventDefault(),target.click())},Button.prototype.debounce=function(event){if("true"===event.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(event.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},Button.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};function Details($module){this.$module=$module}function CharacterCount($module){this.$module=$module,this.$textarea=$module.querySelector(".govuk-js-character-count"),this.$textarea&&(this.$countMessage=$module.querySelector("[id="+this.$textarea.id+"-info]"))}function Checkboxes($module){this.$module=$module,this.$inputs=$module.querySelectorAll('input[type="checkbox"]')}function ErrorSummary($module){this.$module=$module}function Header($module){this.$module=$module}function Radios($module){this.$module=$module}function Tabs($module){this.$module=$module,this.$tabs=$module.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}Details.prototype.init=function(){this.$module&&("boolean"==typeof this.$module.open||this.polyfillDetails())},Details.prototype.polyfillDetails=function(){var d,$module=this.$module,$summary=this.$summary=$module.getElementsByTagName("summary").item(0),$content=this.$content=$module.getElementsByTagName("div").item(0);$summary&&$content&&($content.id||($content.id="details-content-"+(d=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(d+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===c?r:3&r|8).toString(16)}))),$module.setAttribute("role","group"),$summary.setAttribute("role","button"),$summary.setAttribute("aria-controls",$content.id),!($summary.tabIndex=0)==(null!==$module.getAttribute("open"))?($summary.setAttribute("aria-expanded","true"),$content.setAttribute("aria-hidden","false")):($summary.setAttribute("aria-expanded","false"),$content.setAttribute("aria-hidden","true"),$content.style.display="none"),this.polyfillHandleInputs($summary,this.polyfillSetAttributes.bind(this)))},Details.prototype.polyfillSetAttributes=function(){var $module=this.$module,$summary=this.$summary,$content=this.$content,expanded="true"===$summary.getAttribute("aria-expanded"),hidden="true"===$content.getAttribute("aria-hidden");return $summary.setAttribute("aria-expanded",expanded?"false":"true"),$content.setAttribute("aria-hidden",hidden?"false":"true"),$content.style.display=expanded?"none":"",null!==$module.getAttribute("open")?$module.removeAttribute("open"):$module.setAttribute("open","open"),!0},Details.prototype.polyfillHandleInputs=function(node,callback){node.addEventListener("keypress",function(event){var target=event.target;13!==event.keyCode&&32!==event.keyCode||"summary"===target.nodeName.toLowerCase()&&(event.preventDefault(),target.click?target.click():callback(event))}),node.addEventListener("keyup",function(event){var target=event.target;32===event.keyCode&&"summary"===target.nodeName.toLowerCase()&&event.preventDefault()}),node.addEventListener("click",callback)},CharacterCount.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},CharacterCount.prototype.init=function(){var countAttribute,$module=this.$module,$textarea=this.$textarea,$countMessage=this.$countMessage;$textarea&&$countMessage&&($textarea.insertAdjacentElement("afterend",$countMessage),this.options=this.getDataset($module),countAttribute=this.defaults.characterCountAttribute,this.options.maxwords&&(countAttribute=this.defaults.wordCountAttribute),this.maxLength=$module.getAttribute(countAttribute),this.maxLength&&($module.removeAttribute("maxlength"),this.bindChangeEvents.bind(this)(),this.updateCountMessage.bind(this)()))},CharacterCount.prototype.getDataset=function(element){var dataset={},attributes=element.attributes;if(attributes)for(var i=0;i<attributes.length;i++){var attribute=attributes[i],match=attribute.name.match(/^data-(.+)/);match&&(dataset[match[1]]=attribute.value)}return dataset},CharacterCount.prototype.count=function(text){return this.options.maxwords?(text.match(/\S+/g)||[]).length:text.length},CharacterCount.prototype.bindChangeEvents=function(){var $textarea=this.$textarea;$textarea.addEventListener("keyup",this.checkIfValueChanged.bind(this)),$textarea.addEventListener("focus",this.handleFocus.bind(this)),$textarea.addEventListener("blur",this.handleBlur.bind(this))},CharacterCount.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage.bind(this)())},CharacterCount.prototype.updateCountMessage=function(){var countElement=this.$textarea,options=this.options,countMessage=this.$countMessage,currentLength=this.count(countElement.value),maxLength=this.maxLength,remainingNumber=maxLength-currentLength;currentLength<maxLength*(options.threshold?options.threshold:0)/100?(countMessage.classList.add("govuk-character-count__message--disabled"),countMessage.setAttribute("aria-hidden",!0)):(countMessage.classList.remove("govuk-character-count__message--disabled"),countMessage.removeAttribute("aria-hidden")),remainingNumber<0?(countElement.classList.add("govuk-textarea--error"),countMessage.classList.remove("govuk-hint"),countMessage.classList.add("govuk-error-message")):(countElement.classList.remove("govuk-textarea--error"),countMessage.classList.remove("govuk-error-message"),countMessage.classList.add("govuk-hint"));var charVerb,displayNumber,charNoun="character";options.maxwords&&(charNoun="word"),charNoun+=-1==remainingNumber||1==remainingNumber?"":"s",charVerb=remainingNumber<0?"too many":"remaining",displayNumber=Math.abs(remainingNumber),countMessage.innerHTML="You have "+displayNumber+" "+charNoun+" "+charVerb},CharacterCount.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},CharacterCount.prototype.handleBlur=function(){clearInterval(this.valueChecker)},Checkboxes.prototype.init=function(){var $module=this.$module;nodeListForEach(this.$inputs,function($input){var controls=$input.getAttribute("data-aria-controls");controls&&$module.querySelector("#"+controls)&&($input.setAttribute("aria-controls",controls),$input.removeAttribute("data-aria-controls"),this.setAttributes($input))}.bind(this)),$module.addEventListener("click",this.handleClick.bind(this))},Checkboxes.prototype.setAttributes=function($input){var inputIsChecked=$input.checked;$input.setAttribute("aria-expanded",inputIsChecked);var $content=this.$module.querySelector("#"+$input.getAttribute("aria-controls"));$content&&$content.classList.toggle("govuk-checkboxes__conditional--hidden",!inputIsChecked)},Checkboxes.prototype.handleClick=function(event){var $target=event.target,isCheckbox="checkbox"===$target.getAttribute("type"),hasAriaControls=$target.getAttribute("aria-controls");isCheckbox&&hasAriaControls&&this.setAttributes($target)},function(undefined){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(selector){for(var elements=(this.document||this.ownerDocument).querySelectorAll(selector),index=0;elements[index]&&elements[index]!==this;)++index;return!!elements[index]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(selector){for(var node=this;node;){if(node.matches(selector))return node;node="SVGElement"in window&&node instanceof SVGElement?node.parentNode:node.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),ErrorSummary.prototype.init=function(){var $module=this.$module;$module&&($module.focus(),$module.addEventListener("click",this.handleClick.bind(this)))},ErrorSummary.prototype.handleClick=function(event){var target=event.target;this.focusTarget(target)&&event.preventDefault()},ErrorSummary.prototype.focusTarget=function($target){if("A"!==$target.tagName||!1===$target.href)return!1;var inputId=this.getFragmentFromUrl($target.href),$input=document.getElementById(inputId);if(!$input)return!1;var $legendOrLabel=this.getAssociatedLegendOrLabel($input);return!!$legendOrLabel&&($legendOrLabel.scrollIntoView(),$input.focus({preventScroll:!0}),!0)},ErrorSummary.prototype.getFragmentFromUrl=function(url){return-1!==url.indexOf("#")&&url.split("#").pop()},ErrorSummary.prototype.getAssociatedLegendOrLabel=function($input){var $fieldset=$input.closest("fieldset");if($fieldset){var legends=$fieldset.getElementsByTagName("legend");if(legends.length){var $candidateLegend=legends[0];if("checkbox"===$input.type||"radio"===$input.type)return $candidateLegend;var legendTop=$candidateLegend.getBoundingClientRect().top,inputRect=$input.getBoundingClientRect();if(inputRect.height&&window.innerHeight)if(inputRect.top+inputRect.height-legendTop<window.innerHeight/2)return $candidateLegend}}return document.querySelector("label[for='"+$input.getAttribute("id")+"']")||$input.closest("label")},Header.prototype.init=function(){var $toggleButton,$module=this.$module;!$module||($toggleButton=$module.querySelector(".govuk-js-header-toggle"))&&$toggleButton.addEventListener("click",this.handleClick.bind(this))},Header.prototype.toggleClass=function(node,className){0<node.className.indexOf(className)?node.className=node.className.replace(" "+className,""):node.className+=" "+className},Header.prototype.handleClick=function(event){var $module=this.$module,$toggleButton=event.target||event.srcElement,$target=$module.querySelector("#"+$toggleButton.getAttribute("aria-controls"));$toggleButton&&$target&&(this.toggleClass($target,"govuk-header__navigation--open"),this.toggleClass($toggleButton,"govuk-header__menu-button--open"),$toggleButton.setAttribute("aria-expanded","true"!==$toggleButton.getAttribute("aria-expanded")),$target.setAttribute("aria-hidden","false"===$target.getAttribute("aria-hidden")))},Radios.prototype.init=function(){var $module=this.$module;nodeListForEach($module.querySelectorAll('input[type="radio"]'),function($input){var controls=$input.getAttribute("data-aria-controls");controls&&$module.querySelector("#"+controls)&&($input.setAttribute("aria-controls",controls),$input.removeAttribute("data-aria-controls"),this.setAttributes($input))}.bind(this)),$module.addEventListener("click",this.handleClick.bind(this))},Radios.prototype.setAttributes=function($input){var inputIsChecked,$content=document.querySelector("#"+$input.getAttribute("aria-controls"));$content&&$content.classList.contains("govuk-radios__conditional")&&(inputIsChecked=$input.checked,$input.setAttribute("aria-expanded",inputIsChecked),$content.classList.toggle("govuk-radios__conditional--hidden",!inputIsChecked))},Radios.prototype.handleClick=function(event){var $clickedInput=event.target;"radio"===$clickedInput.type&&nodeListForEach(document.querySelectorAll('input[type="radio"][aria-controls]'),function($input){var hasSameFormOwner=$input.form===$clickedInput.form;$input.name===$clickedInput.name&&hasSameFormOwner&&this.setAttributes($input)}.bind(this))},function(undefined){"document"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var el=this.nextSibling;el&&1!==el.nodeType;)el=el.nextSibling;return el}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(undefined){"document"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var el=this.previousSibling;el&&1!==el.nodeType;)el=el.previousSibling;return el}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),Tabs.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},Tabs.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},Tabs.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},Tabs.prototype.setup=function(){var $activeTab,$module=this.$module,$tabs=this.$tabs,$tabList=$module.querySelector(".govuk-tabs__list"),$tabListItems=$module.querySelectorAll(".govuk-tabs__list-item");$tabs&&$tabList&&$tabListItems&&($tabList.setAttribute("role","tablist"),nodeListForEach($tabListItems,function($item){$item.setAttribute("role","presentation")}),nodeListForEach($tabs,function($tab){this.setAttributes($tab),$tab.boundTabClick=this.onTabClick.bind(this),$tab.boundTabKeydown=this.onTabKeydown.bind(this),$tab.addEventListener("click",$tab.boundTabClick,!0),$tab.addEventListener("keydown",$tab.boundTabKeydown,!0),this.hideTab($tab)}.bind(this)),$activeTab=this.getTab(window.location.hash)||this.$tabs[0],this.showTab($activeTab),$module.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",$module.boundOnHashChange,!0))},Tabs.prototype.teardown=function(){var $module=this.$module,$tabs=this.$tabs,$tabList=$module.querySelector(".govuk-tabs__list"),$tabListItems=$module.querySelectorAll(".govuk-tabs__list-item");$tabs&&$tabList&&$tabListItems&&($tabList.removeAttribute("role"),nodeListForEach($tabListItems,function($item){$item.removeAttribute("role","presentation")}),nodeListForEach($tabs,function($tab){$tab.removeEventListener("click",$tab.boundTabClick,!0),$tab.removeEventListener("keydown",$tab.boundTabKeydown,!0),this.unsetAttributes($tab)}.bind(this)),window.removeEventListener("hashchange",$module.boundOnHashChange,!0))},Tabs.prototype.onHashChange=function(e){var $previousTab,hash=window.location.hash,$tabWithHash=this.getTab(hash);$tabWithHash&&(this.changingHash?this.changingHash=!1:($previousTab=this.getCurrentTab(),this.hideTab($previousTab),this.showTab($tabWithHash),$tabWithHash.focus()))},Tabs.prototype.hideTab=function($tab){this.unhighlightTab($tab),this.hidePanel($tab)},Tabs.prototype.showTab=function($tab){this.highlightTab($tab),this.showPanel($tab)},Tabs.prototype.getTab=function(hash){return this.$module.querySelector('.govuk-tabs__tab[href="'+hash+'"]')},Tabs.prototype.setAttributes=function($tab){var panelId=this.getHref($tab).slice(1);$tab.setAttribute("id","tab_"+panelId),$tab.setAttribute("role","tab"),$tab.setAttribute("aria-controls",panelId),$tab.setAttribute("aria-selected","false"),$tab.setAttribute("tabindex","-1");var $panel=this.getPanel($tab);$panel.setAttribute("role","tabpanel"),$panel.setAttribute("aria-labelledby",$tab.id),$panel.classList.add(this.jsHiddenClass)},Tabs.prototype.unsetAttributes=function($tab){$tab.removeAttribute("id"),$tab.removeAttribute("role"),$tab.removeAttribute("aria-controls"),$tab.removeAttribute("aria-selected"),$tab.removeAttribute("tabindex");var $panel=this.getPanel($tab);$panel.removeAttribute("role"),$panel.removeAttribute("aria-labelledby"),$panel.classList.remove(this.jsHiddenClass)},Tabs.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab"))return!1;e.preventDefault();var $newTab=e.target,$currentTab=this.getCurrentTab();this.hideTab($currentTab),this.showTab($newTab),this.createHistoryEntry($newTab)},Tabs.prototype.createHistoryEntry=function($tab){var $panel=this.getPanel($tab),id=$panel.id;$panel.id="",this.changingHash=!0,window.location.hash=this.getHref($tab).slice(1),$panel.id=id},Tabs.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},Tabs.prototype.activateNextTab=function(){var nextTab,currentTab=this.getCurrentTab(),nextTabListItem=currentTab.parentNode.nextElementSibling;nextTabListItem&&(nextTab=nextTabListItem.querySelector(".govuk-tabs__tab")),nextTab&&(this.hideTab(currentTab),this.showTab(nextTab),nextTab.focus(),this.createHistoryEntry(nextTab))},Tabs.prototype.activatePreviousTab=function(){var previousTab,currentTab=this.getCurrentTab(),previousTabListItem=currentTab.parentNode.previousElementSibling;previousTabListItem&&(previousTab=previousTabListItem.querySelector(".govuk-tabs__tab")),previousTab&&(this.hideTab(currentTab),this.showTab(previousTab),previousTab.focus(),this.createHistoryEntry(previousTab))},Tabs.prototype.getPanel=function($tab){return this.$module.querySelector(this.getHref($tab))},Tabs.prototype.showPanel=function($tab){this.getPanel($tab).classList.remove(this.jsHiddenClass)},Tabs.prototype.hidePanel=function(tab){this.getPanel(tab).classList.add(this.jsHiddenClass)},Tabs.prototype.unhighlightTab=function($tab){$tab.setAttribute("aria-selected","false"),$tab.parentNode.classList.remove("govuk-tabs__list-item--selected"),$tab.setAttribute("tabindex","-1")},Tabs.prototype.highlightTab=function($tab){$tab.setAttribute("aria-selected","true"),$tab.parentNode.classList.add("govuk-tabs__list-item--selected"),$tab.setAttribute("tabindex","0")},Tabs.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},Tabs.prototype.getHref=function($tab){var href=$tab.getAttribute("href");return href.slice(href.indexOf("#"),href.length)},exports.initAll=function(options){var scope=void 0!==(options=void 0!==options?options:{}).scope?options.scope:document;nodeListForEach(scope.querySelectorAll('[data-module="govuk-button"]'),function($button){new Button($button).init()}),nodeListForEach(scope.querySelectorAll('[data-module="govuk-accordion"]'),function($accordion){new Accordion($accordion).init()}),nodeListForEach(scope.querySelectorAll('[data-module="govuk-details"]'),function($detail){new Details($detail).init()}),nodeListForEach(scope.querySelectorAll('[data-module="govuk-character-count"]'),function($characterCount){new CharacterCount($characterCount).init()}),nodeListForEach(scope.querySelectorAll('[data-module="govuk-checkboxes"]'),function($checkbox){new Checkboxes($checkbox).init()}),new ErrorSummary(scope.querySelector('[data-module="govuk-error-summary"]')).init(),new Header(scope.querySelector('[data-module="govuk-header"]')).init(),nodeListForEach(scope.querySelectorAll('[data-module="govuk-radios"]'),function($radio){new Radios($radio).init()}),nodeListForEach(scope.querySelectorAll('[data-module="govuk-tabs"]'),function($tabs){new Tabs($tabs).init()})},exports.Accordion=Accordion,exports.Button=Button,exports.Details=Details,exports.CharacterCount=CharacterCount,exports.Checkboxes=Checkboxes,exports.ErrorSummary=ErrorSummary,exports.Header=Header,exports.Radios=Radios,exports.Tabs=Tabs});var cookies=getCookie("cookies");function analytics(){var i,s,o,r,a,m,cookies=getCookie("cookies");cookies&&-1!==cookies.indexOf("analytics")&&(i=window,s=document,o="script",r="ga",i.GoogleAnalyticsObject=r,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=+new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",m.parentNode.insertBefore(a,m),ga("create","UA-127566551-1","auto"),ga("send","pageview"))}(cookies?hideGlobalCookieBanner:setCookieButtonEvents)();